(this.webpackJsonpaltb=this.webpackJsonpaltb||[]).push([[0],{15:function(e,t,c){},16:function(e,t,c){"use strict";c.r(t);var i=c(1),n=c(9),a=c.n(n),r=c(4),s=c(5),l=c(2),O=c(3),o=c(0);function u(e){var t=Object(i.useRef)(!1),c=Object(i.useState)("Select time"),n=Object(O.a)(c,2),a=n[0],u=n[1],m=Object(i.useState)(!1),d=Object(O.a)(m,2),j=d[0],_=d[1],b=Object(i.useState)(e.isActive),v=Object(O.a)(b,2),x=v[0],M=v[1],S=Object(i.useState)(x&&new Date(e.time.savedDate)),g=Object(O.a)(S,2),h=g[0],p=g[1],T=Object(i.useState)({hours:"00",minutes:"00",seconds:"00"}),f=Object(O.a)(T,2),C=f[0],N=f[1],R=Object(i.useRef)(),J=function(){var t=JSON.parse(localStorage.getItem("USER_TIME"));e.setSaveLocalTime((function(t){return Object(l.a)(Object(l.a)({},t),{},Object(r.a)({},e.typeTimer,Object(s.a)(t[e.typeTimer].filter((function(t){return t.id!==e.time.id})))))})),t[e.typeTimer]=t[e.typeTimer].filter((function(t){return t.id!==e.time.id})),localStorage.USER_TIME=JSON.stringify(t)},I=function(t,c,i,n){var a=JSON.parse(localStorage.getItem("USER_TIME"));e.setSaveLocalTime((function(a){var O=Object(s.a)(a[e.typeTimer]);return O[e.id]={id:e.id,savedDate:t,completedTime:c,isActive:i,timerFinish:n},Object(l.a)(Object(l.a)({},a),{},Object(r.a)({},e.typeTimer,Object(s.a)(O)))})),a[e.typeTimer][e.id]={id:e.id,savedDate:t,completedTime:c,isActive:i,timerFinish:n},localStorage.USER_TIME=JSON.stringify(a)};return Object(i.useEffect)((function(){if(t.current){var e=a.split("_"),c=Object(O.a)(e,4),i=(c[0],c[1]),n=c[2],r=c[3];p(h.setHours(h.getHours()+Number(i))),p(h.setMinutes(h.getMinutes()+Number(n))),p(h.setSeconds(h.getSeconds()+Number(r))),I(h.toJSON(),"".concat(String(h.getHours()).padStart(2,"0"),":").concat(String(h.getMinutes()).padStart(2,"0"),":").concat(String(h.getSeconds()).padStart(2,"0")),!0,!1)}}),[j]),Object(i.useEffect)((function(){x?R.current=setInterval((function(){var e=new Date,t=new Date;t.setHours(h.getHours()-e.getHours()),t.setMinutes(h.getMinutes()-e.getMinutes()),t.setSeconds(h.getSeconds()-e.getSeconds()),h.getTime()-e.getTime()>0?N((function(e){return Object(l.a)(Object(l.a)({},e),{},{hours:t.getHours(),minutes:t.getMinutes(),seconds:t.getSeconds()})})):(clearInterval(R.current),M(!1),N((function(e){return Object(l.a)(Object(l.a)({},e),{},{hours:"00",minutes:"00",seconds:"00"})})),I(null,"".concat(String(h.getHours()).padStart(2,"0"),":").concat(String(h.getMinutes()).padStart(2,"0"),":").concat(String(h.getSeconds()).padStart(2,"0")),!0,!0))}),1e3):t.current=!0}),[j]),Object(o.jsxs)("div",{className:"wrapperShowTimer",children:[Object(o.jsxs)("div",{className:"timer",children:[e.timerFinish&&Object(o.jsx)("button",{className:"completedTimerBtn",onClick:function(){clearInterval(R.current),t.current=!1,M(!1),J()}}),Object(o.jsxs)("div",{className:"showTime",children:[Object(o.jsx)("p",{className:"time",children:"\n                        ".concat(String(C.hours).padStart(2,"0"),":").concat(String(C.minutes).padStart(2,"0"),":").concat(String(C.seconds).padStart(2,"0"),"\n                    ")}),Object(o.jsx)("span",{className:"completedTimerText",children:"Completed: "}),Object(o.jsx)("span",{children:e.time.completedTime})]})]}),Object(o.jsxs)("div",{className:"wrapperTimerBtn",children:[e.timerFinish||j?Object(o.jsx)(o.Fragment,{}):!x&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("select",{className:"wrapperTimerSelect",onClick:function(e){u(e.target.options[e.target.selectedIndex].value)},children:[Object(o.jsx)("option",{children:"Select time"}),e.collectionTimes.map((function(e,t){return Object(o.jsx)("option",{value:e.value,children:e.text},t)}))]}),Object(o.jsx)("button",{className:"startTimerBtn",disabled:"Select time"===a,onClick:function(){p(new Date),M(!0),_(!0),t.current=!0},children:"Start"})]}),x?Object(o.jsx)("button",{className:"cancelTimerBtn",onClick:function(){clearInterval(R.current),_(!1),t.current=!1,M(!1),u("Select time"),N((function(e){return Object(l.a)(Object(l.a)({},e),{},{hours:"00",minutes:"00",seconds:"00"})})),I(null,"00:00:00",!1,!1)},children:"Cancel"}):Object(o.jsx)(o.Fragment,{}),!e.timerFinish&&Object(o.jsx)("button",{className:"removeTimerBtn",onClick:function(){clearInterval(R.current),t.current=!1,M(!1),J()},children:"Remove"})]})]})}c(15);function m(){var e=Object(i.useState)({COMM:[],BOOK:[],PROJ:[]}),t=Object(O.a)(e,2),c=t[0],n=t[1],a=[{text:"10:00:00",value:"COMM_10_00_00"},{text:"09:00:00",value:"COMM_09_00_00"},{text:"08:00:00",value:"COMM_08_00_00"},{text:"06:00:00",value:"COMM_06_00_00"},{text:"05:20:00",value:"COMM_05_20_00"},{text:"05:00:00",value:"COMM_05_00_00"},{text:"04:00:00",value:"COMM_04_00_00"},{text:"03:20:00",value:"COMM_03_20_00"},{text:"03:00:00",value:"COMM_03_00_00"},{text:"02:40:00",value:"COMM_02_40_00"},{text:"02:30:00",value:"COMM_02_30_00"},{text:"02:15:00",value:"COMM_02_15_00"},{text:"02:00:00",value:"COMM_02_00_00"},{text:"01:45:00",value:"COMM_01_45_00"},{text:"01:40:00",value:"COMM_01_40_00"},{text:"01:30:00",value:"COMM_01_30_00"},{text:"01:20:00",value:"COMM_01_20_00"},{text:"01:10:00",value:"COMM_01_10_00"},{text:"01:00:00",value:"COMM_01_00_00"},{text:"00:30:00",value:"COMM_00_30_00"},{text:"00:20:00",value:"COMM_00_20_00"},{text:"00:05:00",value:"COMM_00_05_00"}],m=[{text:"08:00:00",value:"BOOK_08_00_00"},{text:"04:00:00",value:"BOOK_04_00_00"},{text:"02:00:00",value:"BOOK_02_00_00"}],d=[{text:"12:00:00",value:"PROJ_10_00_00"},{text:"10:00:00",value:"PROJ_10_00_00"},{text:"09:00:00",value:"PROJ_09_00_00"},{text:"08:00:00",value:"PROJ_08_00_00"},{text:"06:00:00",value:"PROJ_06_00_00"},{text:"05:00:00",value:"PROJ_05_00_00"},{text:"04:00:00",value:"PROJ_04_00_00"},{text:"03:00:00",value:"PROJ_03_00_00"},{text:"02:30:00",value:"PROJ_02_30_00"},{text:"02:00:00",value:"PROJ_02_00_00"},{text:"01:30:00",value:"PROJ_01_30_00"},{text:"01:00:00",value:"PROJ_01_00_00"},{text:"00:30:00",value:"PROJ_00_30_00"}];localStorage.getItem("USER_TIME")||localStorage.setItem("USER_TIME",JSON.stringify({COMM:[],BOOK:[],PROJ:[]}));var j=function(e){var t=e.target.name,c=JSON.parse(localStorage.getItem("USER_TIME"));n((function(e){return Object(l.a)(Object(l.a)({},e),{},Object(r.a)({},t,[].concat(Object(s.a)(e[t]),[{id:e[t].length?e[t][e[t].length-1].id+1:0,savedDate:null,completedTime:"00:00:00",isActive:!1,timerFinish:!1}])))})),n((function(e){return c[t].push({id:e[t][e[t].length-1].id,savedDate:null,completedTime:"00:00:00",isActive:!1,timerFinish:!1}),localStorage.USER_TIME=JSON.stringify(c),e}))};return Object(i.useEffect)((function(){var e=JSON.parse(localStorage.getItem("USER_TIME"));(e.COMM.length||e.BOOK.length||e.PROJ.length)&&n((function(){return e}))}),[0]),Object(o.jsxs)("div",{className:"container",children:[Object(o.jsxs)("fieldset",{className:"containerTimer",children:[Object(o.jsx)("legend",{className:"containerTitle",children:Object(o.jsx)("p",{className:"commissionTitle",children:"COMMISSION"})}),Object(o.jsx)("div",{className:"wrapperTimer",children:c.COMM.length?c.COMM.map((function(e,t){return Object(o.jsx)(u,{time:e,id:t,setSaveLocalTime:n,collectionTimes:a,typeTimer:"COMM",isActive:e.isActive,timerFinish:e.timerFinish},e.id)})):Object(o.jsx)("div",{className:"availableTimer",children:"Not found"})}),4!==c.COMM.length&&Object(o.jsx)("button",{name:"COMM",className:"addTimer",onClick:function(e){j(e)},children:"+"})]}),Object(o.jsxs)("fieldset",{className:"containerTimer",children:[Object(o.jsx)("legend",{className:"containerTitle",children:Object(o.jsx)("p",{children:"CLASSROOM"})}),Object(o.jsx)("div",{children:c.BOOK.length?c.BOOK.map((function(e,t){return Object(o.jsx)(u,{time:e,id:t,setSaveLocalTime:n,collectionTimes:m,typeTimer:"BOOK",isActive:e.isActive,timerFinish:e.timerFinish},e.id)})):Object(o.jsx)("div",{className:"availableTimer",children:"Not found"})}),4!==c.BOOK.length&&Object(o.jsx)("button",{name:"BOOK",className:"addTimer",onClick:function(e){j(e)},children:"+"})]}),Object(o.jsxs)("fieldset",{className:"containerTimer",children:[Object(o.jsx)("legend",{className:"containerTitle",children:Object(o.jsx)("p",{children:"LAB"})}),Object(o.jsx)("div",{children:c.PROJ.length?c.PROJ.map((function(e,t){return Object(o.jsx)(u,{time:e,id:t,setSaveLocalTime:n,collectionTimes:d,typeTimer:"PROJ",isActive:e.isActive,timerFinish:e.timerFinish},e.id)})):Object(o.jsx)("div",{className:"availableTimer",children:"Not found"})}),1!==c.PROJ.length&&Object(o.jsx)("button",{name:"PROJ",className:"addTimer",onClick:function(e){j(e)},children:"+"})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("br",{}),Object(o.jsx)("button",{onClick:function(){localStorage.clear(),localStorage.setItem("USER_TIME",JSON.stringify({COMM:[],BOOK:[],PROJ:[]}))},children:"Update LC"})]})]})}a.a.render(Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(m,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.e33e74a9.chunk.js.map